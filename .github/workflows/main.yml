name: tmate SSH Session

on:
  workflow_dispatch:  # Permite ejecuciÃ³n manual
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

jobs:
  tmate-ssh:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
      
    - name: Setup tmate session
      uses: mxschmitt/action-tmate@v3
      with:
        # Configuraciones opcionales
        # timeout: 60  # Tiempo mÃ¡ximo en minutos (por defecto 360)
        
    - name: Configure tmate
      run: |
        echo "========================================"
        echo "ğŸš€ tmate SSH Session Configurada"
        echo "========================================"
        echo ""
        echo "ğŸ“¡ InformaciÃ³n de conexiÃ³n:"
        echo "----------------------------------------"
        echo "ğŸ”‘ SSH Command:"
        echo "  $ tmate show-messages"
        echo ""
        echo "ğŸŒ WebSocket URL:"
        echo "  $ tmate show-messages"
        echo ""
        echo "========================================"
        echo "ğŸ’¡ Una vez conectado, puedes usar como VPS normal"
        echo "========================================"
        
    - name: Keep alive
      run: |
        # Mantener la sesiÃ³n activa
        echo "ğŸ”„ Manteniendo sesiÃ³n activa..."
        while true; do
          echo "â° $(date) - SesiÃ³n activa. Presiona Ctrl+C para terminar."
          sleep 60
        done
